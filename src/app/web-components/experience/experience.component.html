<section id="experience" class="experience section-transparent">
  <div class="container">
    <!-- Section Header -->
    <div class="section-header" appScrollAnimate>
      <span class="section-label">Experience</span>
      <h2 class="section-title">Professional Journey</h2>
      <div class="section-divider"></div>
      <p class="section-subtitle">
        A timeline of my work experience, leadership roles, and internships
      </p>
    </div>

    <!-- Timeline -->
    <div class="timeline">
      <div class="timeline-line"></div>

      @for (experience of experiences; track experience.id; let i = $index; let isEven = $even) {
        <div class="timeline-item" [class.left]="isEven" [class.right]="!isEven">
          <!-- Timeline Node -->
          <div class="timeline-node">
            <div class="node-outer"></div>
            <div class="node-inner"></div>
          </div>

          <!-- Experience Card -->
          <div class="experience-card card" appScrollAnimate [animationDelay]="i + 1">
            <!-- Header -->
            <div class="card-header">
              <div class="header-content">
                <div class="type-badge" [attr.data-type]="experience.type">
                  {{ getTypeBadge(experience.type) }}
                </div>
                <span class="dates">{{ experience.startDate }} - {{ experience.endDate }}</span>
              </div>
            </div>

            <!-- Image -->
            @if (experience.image) {
              <div class="card-image">
                <img
                  [src]="experience.image"
                  [alt]="experience.company"
                  loading="lazy"
                />
              </div>
            }

            <!-- Content -->
            <div class="card-content">
              <h3 class="title">{{ experience.title }}</h3>
              <div class="company-info">
                <span class="company">{{ experience.company }}</span>
                <span class="location">
                  <i class="fas fa-map-marker-alt"></i>
                  {{ experience.location }}
                </span>
              </div>

              <p class="summary">{{ experience.summary }}</p>

              <!-- Technologies -->
              @if (experience.technologies.length) {
                <div class="technologies">
                  @for (tech of experience.technologies; track tech) {
                    <span class="tech-tag neon-pill">{{ tech }}</span>
                  }
                </div>
              }

              <!-- Link -->
              @if (experience.link) {
                <a
                  [href]="experience.link"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="card-link">
                  <span>Visit Company</span>
                  <i class="fas fa-external-link-alt"></i>
                </a>
              }
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</section>
